<div class="main-content">
    <div class="container-fluid">
        <div class="card">
            <div class="row p-4">

                <form [formGroup]="emailForm" class="col-12 row">
                    <div class="col-md-12">
                        <mat-form-field class="example-full-width">
                            <input formControlName="subject" matInput placeholder="Subject" type="text">
                        </mat-form-field>
                        <div *ngIf="submit && form.subject.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>

                    <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                            <input formControlName="sentMail" matInput placeholder="Sender mail" type="email">
                        </mat-form-field>
                        <div *ngIf="submit && form.sentMail.errors?.email" class="text-danger col-12">
                            Email valid format is required
                        </div>
                        <div *ngIf="submit && form.sentMail.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                            <input formControlName="sentName" matInput placeholder="Sender name" type="text">
                        </mat-form-field>
                        <div *ngIf="submit && form.sentName.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>

                    <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                            <input formControlName="replyMail" matInput placeholder="Reply mail (Optional)" type="text">
                        </mat-form-field>
                        <div *ngIf="submit && form.replyMail.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                            <input formControlName="replyName" matInput placeholder="Reply name (Optional)" type="text">
                        </mat-form-field>
                        <div *ngIf="submit && form.replyName.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>
                    <div class="mt-2 mb-2"></div>
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <textarea class="TAC" formControlName="emailRecipient" matInput placeholder="Recipients"></textarea>
                        </mat-form-field>
                        <div *ngIf="submit && form.emailRecipient.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <textarea class="TAC" formControlName="emailBcc" matInput placeholder="Recipients (BCC)"></textarea>
                        </mat-form-field>
                        <div *ngIf="submit && form.emailBcc.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <textarea class="TAC" formControlName="emailCc" matInput placeholder="Recipients (CC)"></textarea>
                        </mat-form-field>
                        <div *ngIf="submit && form.emailCc.errors?.required" class="text-danger col-12">
                            Required field
                        </div>
                    </div>
                </form>
                <div class="col-md-12" style="margin-bottom: 20px;">
                    <editor [(ngModel)]="body" [init]="{ plugins: 'lists link image table code help wordcount' }"></editor>
                </div>

                <div class="mt-4 mb-4"></div>
                <div class="col-md-4">
                    <mat-form-field class="example-full-width">
                        <input [(ngModel)]="limit" matInput placeholder="Email limit for sending" type="number">
                    </mat-form-field>
                </div>
                <div class="col-md-4">
                    <mat-form-field class="example-full-width">
                        <input [(ngModel)]="timeout" matInput placeholder="Time between batches in seconds" type="number">
                    </mat-form-field>
                </div>
                <div class="col-md-4">
                    <mat-form-field class="example-full-width">
                        <mat-label>Choose a role</mat-label>
                        <mat-select [(ngModel)]="limitType">
                            <mat-option value="emailBcc">BCC</mat-option>
                            <mat-option value="emailRecipient">To</mat-option>
                            <mat-option value="emailCc">CC</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="mt-4 mb-4"></div>
                <div class="col-md-12">
                    <mat-checkbox class="example-margin" (change)="toggleConf($event)">Do you want to add custom configuration?</mat-checkbox>
                </div>
                <div class="mt-4 mb-4"></div>

                <div *ngIf="isConfiguration" class="col-12 row">
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <input [(ngModel)]="host" matInput placeholder="Host" type="text">
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                            <input [(ngModel)]="port" matInput placeholder="Port" type="number">
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <mat-checkbox class="example-margin" (change)="toggleSsl($event)">Having SSL?</mat-checkbox>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                            <input [(ngModel)]="user" matInput placeholder="Username" type="text">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                            <input [(ngModel)]="pass" matInput placeholder="Password" type="password">
                        </mat-form-field>
                    </div>
                </div>

                <button id="send" [disabled]="dataSent" mat-raised-button (click)="send()" class="mx-auto btn btn-danger pull-right">Send mail</button>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>